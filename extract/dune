(coq.extraction
 (prelude Extract)
 (extracted_modules 
  BinNums BinPos Datatypes Specif  List0 String0
  base gmap countable fin_maps numbers option decidable
  ErrorMonad CoqUtil CoqInt CoqBigInt Loc StateMonad 
  Extmap Extset Wstdlib Weakhtbl Hashtbl Hashcons Number 
  TyDefs TyFuncs Ident)
 (theories Src stdpp Proofs)
 )

;Create Ty.ml by concatenation Defs, Exn, Funcs
 (rule
  (deps TyDefs.ml TyExn.ml TyFuncs.ml)
  (targets Ty.ml)
  (action 
  (with-stdout-to Ty.ml
    (pipe-stdout
     (cat TyDefs.ml TyExn.ml TyFuncs.ml)
     (run sed -e "s/open TyDefs//g")
    )
   )
  )
 )

(library
 (name Why3Coq)
 (modules (:standard \ TyExn TyDefs TyFuncs))
 (flags (:standard -w -33 -w -32)) ;32 is unused value - extraction results in values we don't want in mli file
 (libraries zarith))


